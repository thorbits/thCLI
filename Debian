#========================#
#	Debian Linux           #
#========================#

--> a nice file listing: ls -phalANXgs --color=auto --time-style=iso --no-group --group-directories-first
--> if unable to update/lock database: rm /etc/apt/db.lck
--> printf 'y\n' | DEBIAN_FRONTEND=noninteractive apt-get remove --purge -o Dpkg::Options::="--force-confdef" -o Dpkg::Options::="--force-confold" linux-image-`uname -r`*
--> list all installed kernels: dpkg -l | grep linux-image | awk '{print$2}' && sudo apt remove --purge linux-image-NAME
--> Add SU user: vim /etc/sudoers , usermod -aG sudo user
--> set console font: sudo dpkg-reconfigure console-setup
--> /etc/default/grub: GRUB_INIT_TUNE="1750 523 1 392 1 523 1 659 1 784 1 1047 1 784 1 415 1 523 1 622 1 831 1 622 1 831 1 1046 1 1244 1 1661 1 1244 1 466 1 587 1 698 1 932 1 1195 1 1397 1 1865 1 1397 1"


 Debian repos update
#========================#
printf '\nUpdating repos and software...\n\n'; echo -e "deb http://ftp.ca.debian.org/debian experimental main contrib\ndeb-src http://ftp.ca.debian.org/debian experimental main contrib\n\ndeb http://security.debian.org/debian-security trixie-security main contrib\ndeb-src http://security.debian.org/debian-security trixie-security main contrib" > /etc/apt/sources.list; apt update; update-grub2 && sed -i 's/set timeout=5/set timeout=1/' /boot/grub/grub.cfg; echo -e '\nPress enter to reboot'; read; reboot

printf '\nUpdating repos and software...\n\n'; echo -e "deb http://ftp.ca.debian.org/debian sid main contrib\ndeb-src http://ftp.ca.debian.org/debian sid main contrib\n\ndeb http://security.debian.org/debian-security trixie-security main contrib\ndeb-src http://security.debian.org/debian-security trixie-security main contrib" > /etc/apt/sources.list; apt update; update-grub2 && sed -i 's/set timeout=5/set timeout=1/' /boot/grub/grub.cfg; echo -e '\nPress enter to reboot'; read; reboot

apt -y install zstd nala sudo fonts-terminus; setfont /usr/share/consolefonts/Uni3-TerminusBold22x11.psf.gz; clear; { echo '1,2,3,4,5' && printf y\n; } | nala fetch --debian sid && nala update; nala full-upgrade -y


 eZkernel Debian vanilla (https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git)
#========================#
clear; printf "\n\nWelcome $(whoami), to eZkernel for Debian.\n\n"; printf "Current kernel $(uname -r) will be updated to $(curl -s https://www.kernel.org/ | grep -oP '(?<=<strong>)[^<]+(?=</strong>)' | head -n 2 | tail -n 1)\n\nPress any key to update repos and install required software, kernel conpilation will follow automatically.\n\n"; read; apt -y upgrade bc bison crossbuild-essential-amd64 colormake curl debhelper fakeroot flex git libelf-dev libncurses-dev libssl-dev make pahole python3 rsync wget zstd; printf '\n\nCompiler software sucessfully updated.\n\nDownloading kernel sources...\n\n'; mkdir -p kernel/linux-upstream-$(curl -s https://www.kernel.org/ | grep -oP '(?<=<strong>)[^<]+(?=</strong>)' | head -n 2 | tail -n 1); cd $_; wget https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/snapshot/linux-master.tar.gz; printf '\nExtracting kernel sources...\n\n'; tar -zxf *.gz --strip-components=1; rm *.gz; yes '' | make localmodconfig; make menuconfig && printf 'Compiling kernel...\n\n'; time { make -j32 bindeb-pkg; dpkg -i ~/kernel/*e-6*.deb; printf '\nCompilation time:\n'; } && printf '\neZkernel compilation successful: %s\n' "$(dpkg -l | grep linux-image-6.14 | awk '{print $2}')"; echo -e '\nPress enter to reboot'; read; update-grub2; sed -i 's/set timeout=5/set timeout=1/' /boot/grub/grub.cfg; cd; rm -Rf k*; reboot

 eZkernel Debian Xanmod (https://github.com/xanmod/linux/tree/6.10/CONFIGS/xanmod/gcc | https://sourceforge.net/projects/xanmod/files/releases/edge/)
#========================#
// patch method 1
clear; printf "\n\nWelcome $(whoami), to eZkernel for Debian.\n\n"; printf "Current kernel $(uname -r) will be updated to $(curl -s https://www.kernel.org/ | grep -oP '(?<=<strong>)[^<]+(?=</strong>)' | head -n 3 | tail -n 1)\n\nPress any key to update repos and install required software, kernel conpilation will follow automatically.\n\n"; read; apt -y upgrade bc bison crossbuild-essential-amd64 colormake curl debhelper fakeroot flex git libelf-dev libncurses-dev libssl-dev make pahole python3 rsync wget zstd; printf '\nCompiler software updated.\n\nDownloading sources...\n\n'; mkdir -p kernel/linux-upstream-$(curl -s https://www.kernel.org/ | grep -oP '(?<=<strong>)[^<]+(?=</strong>)' | head -n 3 | tail -n 1); cd $_; wget https://sourceforge.net/projects/xanmod/files/releases/edge/6.13.3-xanmod1/patch-6.13.3-xanmod1.xz https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/snapshot/linux-master.tar.gz; printf '\nExtracting kernel sources...\n\n'; tar -zxf *.gz --strip-components=1; rm *.gz; printf '\nApplying patch...\n\n'; unxz -d *.xz; rm *.xz; patch -ruN -d/ -p0 < patch-6.13.3-xanmod1; make menuconfig && printf 'Compiling kernel...\n\n'; time { make -j32 bindeb-pkg; dpkg -i ~/kernel/*e-6*.deb; printf '\nCompilation time:\n'; } && printf '\neZkernel compilation successful: %s\n' "$(dpkg -l | grep linux-image-6.13 | awk '{print $2}')"; echo -e '\nPress enter to reboot'; read; update-grub2; sed -i 's/set timeout=5/set timeout=1/' /boot/grub/grub.cfg; cd; rm -Rf k*; reboot

// patch method 2
clear; printf "\n\nWelcome $(whoami), to eZkernel for Debian.\n\n"; printf "Current kernel $(uname -r) will be updated to $(curl -s https://www.kernel.org/ | grep -oP '(?<=<strong>)[^<]+(?=</strong>)' | head -n 3 | tail -n 1)\n\nPress any key to update repos and install required software, kernel conpilation will follow automatically.\n\n"; read; apt -y upgrade bc bison crossbuild-essential-amd64 colormake curl debhelper fakeroot flex git libelf-dev libncurses-dev libssl-dev make pahole python3 rsync wget zstd; printf '\nCompiler software updated.\n\nDownloading sources...\n\n'; mkdir -p kernel/linux-upstream-6.$(curl -s https://www.kernel.org/ | grep -oP '(?<=<strong>)[^<]+(?=</strong>)' | head -n 3 | tail -n 1); cd $_; wget https://sourceforge.net/projects/xanmod/files/releases/edge/6.13.3-xanmod1/patch-6.13.3-xanmod1.xz https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/snapshot/linux-master.tar.gz; printf '\nExtracting kernel sources...\n\n'; tar -zxf *.gz --strip-components=1; rm *.gz; printf '\nApplying patch...\n\n'; xzcat patch-6.13.3-xanmod1.xz | patch -p1; make menuconfig && printf 'Compiling kernel...\n\n'; time { make -j32 bindeb-pkg; dpkg -i ~/kernel/*e-6*.deb; printf '\nCompilation time:\n'; } && printf '\neZkernel compilation successful: %s\n' "$(dpkg -l | grep linux-image-6.13 | awk '{print $2}')"; echo -e '\nPress enter to reboot'; read; update-grub2; sed -i 's/set timeout=5/set timeout=1/' /boot/grub/grub.cfg; cd; rm -Rf k*; reboot

// config based method
clear; printf "\n\nWelcome $(whoami), to eZkernel for Debian.\n\n"; printf "Current kernel $(uname -r) will be updated to $(curl -s https://www.kernel.org/ | grep -oP '(?<=<strong>)[^<]+(?=</strong>)' | head -n 3 | tail -n 1)\n\nPress any key to update repos and install required software, kernel conpilation will follow automatically.\n\n"; read; apt -y upgrade bc bison crossbuild-essential-amd64 colormake curl debhelper fakeroot flex git libelf-dev libncurses-dev libssl-dev make pahole python3 rsync wget zstd; printf '\nCompiler software updated.\n\nDownloading sources...\n\n'; mkdir -p kernel/linux-upstream-6.10; cd $_; wget https://github.com/xanmod/linux/raw/6.10/CONFIGS/xanmod/gcc/config_x86-64-v3 https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/snapshot/linux-master.tar.gz; printf '\nExtracting kernel sources...\n\n'; tar -zxf *.gz --strip-components=1; rm *.gz; mv -v *3 .config; make menuconfig && printf 'Compiling kernel...\n\n'; time { make -j32 bindeb-pkg; dpkg -i ~/kernel/*e-6*.deb; printf '\nCompilation time:\n'; } && printf '\neZkernel compilation successful: %s\n' "$(dpkg -l | grep linux-image-6.10 | awk '{print $2}')"
; echo -e '\nPress enter to reboot'; read; update-grub2; sed -i 's/set timeout=5/set timeout=1/' /boot/grub/grub.cfg; cd; rm -Rf k*; reboot


 eZkde Debian
#========================#
clear; printf "\n\nWelcome $(whoami), to eZkde for Debian.\n\n"; printf "KDE 6 (Wayland) desktop will be installed with a minimum set of utilities.\n\nPress any key to update repos and install required software automatically.\n\n"; read; apt -y upgrade xserver-xorg xserver-xorg-video-vmware sddm kwin-wayland plasma-desktop plasma-discover kinfocenter kscreen plasma-browser-integration plasma-nm plasma-pa plasma-systemmonitor systemsettings kfind thunar fastfetch alacritty; sed -i 's/set timeout=5/set timeout=1/' /boot/grub/grub.cfg; echo -e '\neZkde for Debian install complete.\n\nPress enter to reboot.'; read; reboot
